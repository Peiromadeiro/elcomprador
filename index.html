<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>body { font-family: Arial, sans-serif; margin: 20px; } h1 { text-align: center; } .chart-container { width: 45%; display: inline-block; vertical-align: top; margin: 1%; } table { border-collapse: collapse; width: 100%; margin-top: 5px; font-size: 0.9em;} table, th, td { border: 1px solid #ddd; } th, td { padding: 4px; text-align: left; } .summary { font-size: 1.1em; margin-bottom: 20px; }</style>
</head>
<body>
<h1>Dashboard Interactivo: 2025 vs 2024</h1>
<div class="summary">
<h2>Resumen Ejecutivo</h2>
<div id="summaryDiv"></div>
</div>
<div><label for="monthSelect">Seleccionar mes:</label>
<select id="monthSelect" onchange="updateDashboard()">
<option value='Todos'>Todos</option>
<option value='2025-01-01 00:00'>Enero 2025</option>
<option value='2025-02-01 00:00'>Febrero 2025</option>
<option value='2025-03-01 00:00'>Marzo 2025</option>
<option value='2025-04-01 00:00'>Abril 2025</option>
<option value='2025-05-01 00:00'>Mayo 2025</option>
<option value='2025-06-01 00:00'>Junio 2025</option>
<option value='2025-07-01 00:00'>Julio 2025</option>
<option value='2025-08-01 00:00'>Agosto 2025</option>
<option value='2025-09-01 00:00'>Septiembre 2025</option>
<option value='2025-10-01 00:00'>Octubre 2025</option>
<option value='2025-11-01 00:00'>Noviembre 2025</option>
<option value='2025-12-01 00:00'>Diciembre 2025</option>

</select></div><br>
<div class="chart-container"><h3>Top 10 Fuentes: Usuarios Únicos</h3><canvas id="barUsers"></canvas></div>
<div class="chart-container"><h3>Top 10 Fuentes: Páginas Vistas</h3><canvas id="barPages"></canvas></div><br style="clear:both;">
<div class="chart-container"><h3>Distribución Usuarios 2025</h3><canvas id="pieUsers2025"></canvas><table id="tableUsers2025"></table></div>
<div class="chart-container"><h3>Distribución Usuarios 2024</h3><canvas id="pieUsers2024"></canvas><table id="tableUsers2024"></table></div><br style="clear:both;">
<div class="chart-container"><h3>Distribución Páginas 2025</h3><canvas id="piePages2025"></canvas><table id="tablePages2025"></table></div>
<div class="chart-container"><h3>Distribución Páginas 2024</h3><canvas id="piePages2024"></canvas><table id="tablePages2024"></table></div><br style="clear:both;">
<div><h2>Insights y Conclusiones</h2>
<ul>
<li>Disminución de usuarios únicos de 2024 a 2025 alrededor de 12%, pero aumento de páginas vistas más de 20%.</li>
<li>Meses pico: Julio (2025), Junio (2024). Meses valle: Diciembre y Enero.</li>
<li>Las fuentes dominantes son Google y Google Discover, seguidas de Dark social y Direct.</li>
<li>Crecimientos: Google Discover y Direct. Caídas: Google principal y Dark social.</li>
<li>El segmento "Otros" refleja la contribución de canales minoritarios.</li>
</ul></div>
<script>
const data = {"2025-01-01 00:00": {"tot": {"u25": 2056821, "u24": 1166913, "p25": 4228957, "p24": 1881392}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "traffic.outbrain.com", "xxx.ampproject", "www.lavanguardia.com", "Google News", "bookmark", "Bing"], "u25": [1005233, 781690, 117353, 70206, 16295, 15892, 11013, 6972, 4980, 4481], "u24": [672521, 273319, 101760, 49132, 0, 1020, 16127, 1897, 0, 3307]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "traffic.outbrain.com", "xxx.ampproject", "www.lavanguardia.com", "bookmark", "Google News", "Bing"], "p25": [1946981, 1507496, 292065, 246882, 47737, 35186, 32467, 31107, 13551, 10909], "p24": [1046805, 332688, 141761, 174008, 0, 1585, 96064, 0, 2446, 6250]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "traffic.outbrain.com", "Otros"], "vals": [1005233, 781690, 117353, 70206, 16295, 66044], "perc": [48.87313966553239, 38.00476560673, 5.705552403442011, 3.413325709918364, 0.7922420084197896, 3.2109746059574458]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [672521, 273319, 101760, 49132, 16127, 943962], "perc": [32.69710879070177, 13.288419361723747, 4.94744073499833, 2.388734848584296, 0.7840740638101226, 45.89422220018174]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "traffic.outbrain.com", "Otros"], "vals": [1946981, 1507496, 292065, 246882, 47737, 187796], "perc": [46.039271621820696, 35.64699286372503, 6.906312833164301, 5.837893362358615, 1.1288126126607578, 4.4407167062706]}, "pie_p24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [1046805, 332688, 174008, 141761, 96064, 2437631], "perc": [24.753266585590726, 7.8669042981520025, 4.114678867626226, 3.3521504238515547, 2.2715766558988424, 57.64142316888064]}}, "2025-02-01 00:00": {"tot": {"u25": 1508226, "u24": 1376025, "p25": 3031727, "p24": 2108632}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "banner", "xxx.ampproject", "traffic.outbrain.com", "www.lavanguardia.com", "social", "Google News"], "u25": [667883, 616765, 81509, 57236, 19243, 11397, 10187, 7839, 6935, 5202], "u24": [799732, 328372, 122389, 47644, 4305, 2062, 0, 15415, 34, 2417]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "banner", "traffic.outbrain.com", "www.lavanguardia.com", "xxx.ampproject", "social", "bookmark"], "p25": [1310887, 1091632, 228040, 172903, 44111, 33151, 26827, 25926, 14403, 13815], "p24": [1200543, 403116, 128971, 196522, 7200, 0, 83854, 2618, 42, 0]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "banner", "Otros"], "vals": [667883, 616765, 81509, 57236, 19243, 65590], "perc": [44.282687077400865, 40.89340722146416, 5.404296173119944, 3.7949219811884953, 1.2758697967015553, 4.348817750124981]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "Facebook", "Otros"], "vals": [799732, 328372, 122389, 47644, 18945, 191144], "perc": [53.024679325247014, 21.77206864223266, 8.114765293795493, 3.1589430231278337, 1.256111484618353, 12.673432230978646]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "banner", "Otros"], "vals": [1310887, 1091632, 228040, 172903, 44111, 184154], "perc": [43.23895258379135, 36.0069359807133, 7.521785437804922, 5.70311904732847, 1.4549792906815158, 6.07422765968044]}, "pie_p24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [1200543, 403116, 196522, 128971, 83854, 1018721], "perc": [39.59931088782071, 13.296579804184216, 6.482179958815553, 4.254043982192328, 2.7658822842558055, 33.60200308273139]}}, "2025-03-01 00:00": {"tot": {"u25": 1403936, "u24": 1672913, "p25": 3017454, "p24": 2529397}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "traffic.outbrain.com", "xxx.ampproject", "banner", "www.lavanguardia.com", "Google News"], "u25": [658710, 499020, 82793, 58405, 29516, 11704, 10995, 10532, 7656, 5408], "u24": [1048783, 346950, 175549, 31653, 12, 0, 3625, 4112, 14408, 4192]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "traffic.outbrain.com", "xxx.ampproject", "www.lavanguardia.com", "bookmark", "banner"], "p25": [1398549, 907536, 250008, 179181, 83620, 30624, 25339, 24880, 19426, 19092], "p24": [1528601, 407573, 92002, 318131, 15, 0, 4526, 93372, 0, 7149]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "Otros"], "vals": [658710, 499020, 82793, 58405, 29516, 75492], "perc": [46.91880541563148, 35.54435529824722, 5.897206140450847, 4.16008991862877, 2.1023750370387253, 5.377168190002963]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [1048783, 346950, 175549, 31653, 14408, -213407], "perc": [74.70304914184123, 24.712664964784718, 12.5040600141317, 2.254589952818362, 1.0262576071843732, -15.200621680760376]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "Otros"], "vals": [1398549, 907536, 250008, 179181, 83620, 198560], "perc": [46.348643591584164, 30.076216571984194, 8.28539556858199, 5.938151832637714, 2.7712104310455103, 6.5803820041664265]}, "pie_p24": {"labels": ["Google", "Google Discover", "dark social", "www.lavanguardia.com", "direct", "Otros"], "vals": [1528601, 407573, 318131, 93372, 92002, 577775], "perc": [50.65863472980864, 13.50718188247443, 10.543027333639552, 3.094396799420969, 3.048994284585614, 19.147764970070792]}}, "2025-04-01 00:00": {"tot": {"u25": 1464532, "u24": 1393086, "p25": 3138939, "p24": 2185328}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "traffic.outbrain.com", "xxx.ampproject", "banner", "www.lavanguardia.com", "Google News"], "u25": [699103, 485212, 82858, 71619, 50146, 13703, 10684, 10405, 7710, 5734], "u24": [909541, 232484, 155785, 33535, 0, 0, 3373, 2696, 14422, 2747]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "traffic.outbrain.com", "www.lavanguardia.com", "xxx.ampproject", "banner", "bookmark"], "p25": [1449888, 885327, 297198, 178088, 135821, 33503, 28326, 24062, 17589, 16284], "p24": [1379886, 274758, 87554, 277393, 0, 0, 88975, 4333, 4770, 0]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "Otros"], "vals": [699103, 485212, 82858, 71619, 50146, 75594], "perc": [47.735590618709594, 33.13085681978953, 5.657643533907077, 4.890231145512696, 3.4240289730780895, 5.161648909003012]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [909541, 232484, 155785, 33535, 14422, 118765], "perc": [62.10454943968449, 15.87428612007112, 10.63718648687772, 2.289809987081197, 0.9847514427817214, 8.109416523503754]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "Otros"], "vals": [1449888, 885327, 297198, 178088, 135821, 192617], "perc": [46.190384712796266, 28.204657688473716, 9.468103712751347, 5.673509424681397, 4.326971629585666, 6.136372831711607]}, "pie_p24": {"labels": ["Google", "dark social", "Google Discover", "www.lavanguardia.com", "direct", "Otros"], "vals": [1379886, 277393, 274758, 88975, 87554, 1030373], "perc": [43.960268103330456, 8.837158033335468, 8.753212470838076, 2.834556517345511, 2.789286443604033, 32.825518431546456]}}, "2025-05-01 00:00": {"tot": {"u25": 1537039, "u24": 1569631, "p25": 3183849, "p24": 2499173}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "traffic.outbrain.com", "xxx.ampproject", "www.lavanguardia.com", "Google News", "banner"], "u25": [727350, 523582, 85953, 68848, 57718, 12008, 11223, 8436, 6221, 6183], "u24": [907234, 379430, 177757, 34502, 0, 0, 3489, 15374, 2924, 1108]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "xxx.ampproject", "traffic.outbrain.com", "www.lavanguardia.com", "bookmark", "Bing"], "p25": [1452595, 899245, 282682, 227453, 151074, 24712, 24706, 22065, 14715, 11682], "p24": [1395121, 484711, 94640, 328162, 0, 4781, 0, 106156, 0, 5708]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "Otros"], "vals": [727350, 523582, 85953, 68848, 57718, 73588], "perc": [47.32150583036605, 34.064327580497306, 5.5921157498280785, 4.479261749376561, 3.7551421922280435, 4.787646897703962]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [907234, 379430, 177757, 34502, 15374, 22742], "perc": [59.02478726954878, 24.68577570250332, 11.56489848338266, 2.244705567002529, 1.0002348671699286, 1.4795981103927747]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "Otros"], "vals": [1452595, 899245, 282682, 227453, 151074, 170800], "perc": [45.62386595595457, 28.24395880583533, 8.878624583012574, 7.143963171620261, 4.745011462541094, 5.364576021036173]}, "pie_p24": {"labels": ["Google", "Google Discover", "dark social", "www.lavanguardia.com", "direct", "Otros"], "vals": [1395121, 484711, 328162, 106156, 94640, 775059], "perc": [43.81869240658084, 15.224057422321222, 10.307084286974664, 3.3342033494678924, 2.972502778869224, 24.343459755786157]}}, "2025-06-01 00:00": {"tot": {"u25": 1536953, "u24": 2492968, "p25": 3235279, "p24": 4094308}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "traffic.outbrain.com", "xxx.ampproject", "www.lavanguardia.com", "Google News", "banner"], "u25": [726720, 543292, 87370, 61992, 48548, 11832, 9743, 8275, 6246, 5857], "u24": [1485041, 599516, 286007, 36907, 0, 0, 3566, 16460, 5378, 1835]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "www.lavanguardia.com", "traffic.outbrain.com", "xxx.ampproject", "bookmark", "Google News"], "p25": [1438662, 913957, 286678, 244058, 149575, 33641, 28726, 27663, 16144, 12464], "p24": [2356826, 777986, 128367, 563765, 0, 137834, 0, 5260, 0, 7047]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "Otros"], "vals": [726720, 543292, 87370, 61992, 48548, 69031], "perc": [47.283163505975786, 35.348641110040454, 5.68462405812019, 4.033434984674223, 3.1587172802291286, 4.491419060960224]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "Taboola", "Otros"], "vals": [1485041, 599516, 286007, 36907, 17158, -887676], "perc": [96.62240810226467, 39.006788106077416, 18.60870176251323, 2.401309604132332, 1.11636465135889, -57.755572226346544]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "Otros"], "vals": [1438662, 913957, 286678, 244058, 149575, 202349], "perc": [44.467942332021444, 28.249712003199722, 8.860997768662301, 7.54364615849205, 4.623248875908384, 6.254452861716099]}, "pie_p24": {"labels": ["Google", "Google Discover", "dark social", "www.lavanguardia.com", "direct", "Otros"], "vals": [2356826, 777986, 563765, 137834, 128367, -729499], "perc": [72.84768948829452, 24.046952364850142, 17.425545061183286, 4.260343543787105, 3.9677258128278887, -22.548256270942936]}}, "2025-07-01 00:00": {"tot": {"u25": 2116800, "u24": 1675137, "p25": 4145723, "p24": 2790714}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "xxx.ampproject", "traffic.outbrain.com", "Facebook", "www.lavanguardia.com", "banner"], "u25": [1118287, 655246, 134535, 75627, 27381, 14075, 13656, 11723, 10945, 10405], "u24": [1016591, 317508, 198068, 36596, 0, 4074, 0, 36253, 16034, 8077]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "www.lavanguardia.com", "xxx.ampproject", "traffic.outbrain.com", "Google News", "Facebook"], "p25": [2050066, 1099850, 341937, 295515, 85046, 40918, 39090, 30895, 19799, 17648], "p24": [1596083, 410994, 136121, 365936, 0, 131754, 5745, 0, 4115, 43079]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "Otros"], "vals": [1118287, 655246, 134535, 75627, 27381, 105724], "perc": [52.82912887377174, 30.95455404383976, 6.355583900226758, 3.572704081632653, 1.2935090702947845, 4.994520030234316]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "Facebook", "Otros"], "vals": [1016591, 317508, 198068, 36596, 36253, 511784], "perc": [48.024896069538926, 14.999433106575962, 9.356953892668178, 1.7288359788359786, 1.712632275132275, 24.177248677248677]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "Otros"], "vals": [2050066, 1099850, 341937, 295515, 85046, 273309], "perc": [49.450144160620475, 26.529751264134145, 8.247946136295164, 7.128189702978226, 2.051415398472112, 6.592553337499877]}, "pie_p24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [1596083, 410994, 365936, 136121, 131754, 1504835], "perc": [38.49950901205894, 9.913686949176295, 8.826831893978444, 3.2834079845662627, 3.178070507846279, 36.29849365237378]}}, "2025-08-01 00:00": {"tot": {"u25": 1327964, "u24": 1301550, "p25": 2845391, "p24": 2151737}, "top10_u": {"names": ["Google", "Google Discover", "direct", "dark social", "banner", "www.lavanguardia.com", "xxx.ampproject", "social", "Google News", "Bing"], "u25": [571410, 534330, 79174, 78107, 14614, 7846, 7551, 5506, 5141, 3692], "u24": [762593, 267395, 32464, 163828, 10574, 15218, 3199, 4240, 2599, 2677]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "banner", "www.lavanguardia.com", "xxx.ampproject", "bookmark", "Google News", "Bing"], "p25": [1209499, 899603, 360187, 206393, 26627, 23341, 22583, 13296, 11046, 10063], "p24": [1202197, 346244, 98729, 312134, 19927, 84079, 4660, 0, 3267, 5944]}, "pie_u25": {"labels": ["Google", "Google Discover", "direct", "dark social", "banner", "Otros"], "vals": [571410, 534330, 79174, 78107, 14614, 50329], "perc": [43.02902789533451, 40.23678352726429, 5.962059212448531, 5.881710648782647, 1.1004816395625183, 3.7899370766074982]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [762593, 267395, 163828, 32464, 15218, 86466], "perc": [57.42572840830022, 20.135711510251785, 12.336780213921461, 2.444644583738716, 1.145964800250609, 6.511170483537204]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "banner", "Otros"], "vals": [1209499, 899603, 360187, 206393, 26627, 143082], "perc": [42.50730391710665, 31.61614695484733, 12.658611768997652, 7.25359010413683, 0.9357940613434146, 5.028553193568125]}, "pie_p24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [1202197, 346244, 312134, 98729, 84079, 802008], "perc": [42.250678377769525, 12.16859124106318, 10.969810475959193, 3.469786753384684, 2.954919025188454, 28.18621412663497]}}, "2025-09-01 00:00": {"tot": {"u25": 1189248, "u24": 1459446, "p25": 2467924, "p24": 2451585}, "top10_u": {"names": ["Google", "Google Discover", "direct", "dark social", "xxx.ampproject", "banner", "www.lavanguardia.com", "Google News", "fb", "Bing"], "u25": [502942, 493555, 67513, 63937, 10781, 7272, 6706, 4763, 4272, 4116], "u24": [808480, 400925, 44420, 143080, 5691, 1233, 14534, 2508, 1, 3252]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "xxx.ampproject", "www.lavanguardia.com", "bookmark", "banner", "Bing", "Google News"], "p25": [1057135, 803369, 272258, 173063, 30720, 18374, 13664, 12558, 11528, 9872], "p24": [1303949, 522145, 136480, 260578, 7486, 133284, 0, 2303, 7234, 3327]}, "pie_u25": {"labels": ["Google", "Google Discover", "direct", "dark social", "xxx.ampproject", "Otros"], "vals": [502942, 493555, 67513, 63937, 10781, 50520], "perc": [42.290758529759984, 41.50143620170057, 5.676948794532343, 5.376254574319233, 0.906539258422129, 4.248062641265741]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "Taboola", "Otros"], "vals": [808480, 400925, 143080, 44420, 17920, -225577], "perc": [67.98245614035088, 33.71248049187386, 12.031132278549133, 3.735133462490582, 1.5068345710903024, -18.96803694435475]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "xxx.ampproject", "Otros"], "vals": [1057135, 803369, 272258, 173063, 30720, 131379], "perc": [42.83499005641989, 32.55242057697076, 11.031863217830047, 7.012493091359377, 1.2447709086665555, 5.323462148753365]}, "pie_p24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [1303949, 522145, 260578, 136480, 133284, 111488], "perc": [52.83586528596504, 21.15725605812821, 10.558590945264116, 5.530154089023811, 5.400652532249778, 4.51748108936904]}}, "2025-10-01 00:00": {"tot": {"u25": 1560235, "u24": 1464232, "p25": 3102725, "p24": 2587322}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "xxx.ampproject", "www.lavanguardia.com", "an", "Bing", "Google News", "Facebook"], "u25": [720986, 589061, 87784, 73904, 16425, 8004, 7015, 5836, 5626, 4964], "u24": [827183, 387650, 124674, 66214, 9685, 9962, 0, 3486, 3298, 2196]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "xxx.ampproject", "www.lavanguardia.com", "bookmark", "Bing", "app_deeplink", "Google News"], "p25": [1382802, 924435, 340670, 228649, 42990, 22203, 17843, 15661, 9868, 9761], "p24": [1387787, 554669, 232211, 219350, 14541, 89147, 13679, 8328, 3419, 4406]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "xxx.ampproject", "Otros"], "vals": [720986, 589061, 87784, 73904, 16425, 72075], "perc": [46.21009014667663, 37.754633116165195, 5.62633193076684, 4.736722352722507, 1.0527260316554878, 4.61949642201335]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [827183, 387650, 124674, 66214, 9962, 144552], "perc": [53.01656481235199, 24.84561620525113, 7.990719346765071, 4.243847881889587, 0.6384935602649601, 9.264758193477265]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "xxx.ampproject", "Otros"], "vals": [1382802, 924435, 340670, 228649, 42990, 183179], "perc": [44.567339999516555, 29.794293725676624, 10.979703325302758, 7.369296344342473, 1.385556244913745, 5.903810360247847]}, "pie_p24": {"labels": ["Google", "Google Discover", "direct", "dark social", "www.lavanguardia.com", "Otros"], "vals": [1387787, 554669, 232211, 219350, 89147, 619561], "perc": [44.72800522121683, 17.8768340732743, 7.484098655214368, 7.069592052147709, 2.8731840559508175, 19.968285942195973]}}, "2025-11-01 00:00": {"tot": {"u25": 1424147, "u24": 1326406, "p25": 2856926, "p24": 2525568}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "xxx.ampproject", "traffic.outbrain.com", "www.lavanguardia.com", "Bing", "Google News", "Facebook"], "u25": [736144, 433334, 96176, 67705, 17821, 9468, 9315, 8208, 5084, 3563], "u24": [768442, 339495, 103742, 58416, 8395, 1, 7961, 4705, 3392, 2359]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "xxx.ampproject", "www.lavanguardia.com", "Bing", "bookmark", "traffic.outbrain.com", "Yahoo!"], "p25": [1405616, 664158, 311136, 224132, 46660, 26610, 23003, 18902, 18273, 16999], "p24": [1474413, 489235, 215749, 200934, 13922, 32988, 11652, 18964, 3, 3777]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "xxx.ampproject", "Otros"], "vals": [736144, 433334, 96176, 67705, 17821, 72967], "perc": [51.690169624343554, 30.427617373768296, 6.753235445498253, 4.754073842096357, 1.2513455422789923, 5.123558172014546]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "xxx.ampproject", "Otros"], "vals": [768442, 339495, 103742, 58416, 8395, 145657], "perc": [53.958053487456006, 23.838480156893915, 7.284500827512891, 4.1018237583620225, 0.5894756650823264, 10.227666104692844]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "xxx.ampproject", "Otros"], "vals": [1405616, 664158, 311136, 224132, 46660, 205224], "perc": [49.20029430233755, 23.247294469650246, 10.890586595522599, 7.845215451852796, 1.6332239616986928, 7.183385218938117]}, "pie_p24": {"labels": ["Google", "Google Discover", "direct", "dark social", "www.lavanguardia.com", "Otros"], "vals": [1474413, 489235, 215749, 200934, 32988, 443607], "perc": [51.60837207544052, 17.124524751428634, 7.551788180722917, 7.033223821688066, 1.1546676392738209, 15.527423531446036]}}, "2025-12-01 00:00": {"tot": {"u25": 773859, "u24": 1397175, "p25": 1432775, "p24": 2779651}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "xxx.ampproject", "www.lavanguardia.com", "Bing", "Google News", "traffic.outbrain.com", "app_deeplink"], "u25": [385167, 260039, 48261, 41311, 7997, 4904, 3730, 2675, 2444, 2053], "u24": [742933, 435521, 95117, 68832, 10687, 8231, 4016, 4164, 1, 1783]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "xxx.ampproject", "www.lavanguardia.com", "Bing", "bookmark", "Yahoo!", "traffic.outbrain.com"], "p25": [686106, 353658, 158546, 115038, 23438, 13898, 13193, 9110, 6351, 6152], "p24": [1462200, 710126, 269788, 180141, 19073, 27687, 11011, 33419, 3538, 1]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "xxx.ampproject", "Otros"], "vals": [385167, 260039, 48261, 41311, 7997, 31084], "perc": [49.77224533151388, 33.602891482815345, 6.236407407550988, 5.338310984300758, 1.033392388019006, 4.016752405800023]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "xxx.ampproject", "Otros"], "vals": [742933, 435521, 95117, 68832, 10687, -579231], "perc": [96.00366475029689, 56.279115446095474, 12.291257192847793, 8.894643597864729, 1.381000931694275, -74.84968191879916]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "xxx.ampproject", "Otros"], "vals": [686106, 353658, 158546, 115038, 23438, 95989], "perc": [47.88651393275287, 24.68342901013767, 11.065659297517056, 8.029034565790163, 1.635846521610162, 6.699516672192075]}, "pie_p24": {"labels": ["Google", "Google Discover", "direct", "dark social", "bookmark", "Otros"], "vals": [1462200, 710126, 269788, 180141, 33419, -1222899], "perc": [102.05370696724887, 49.56298092861754, 18.829753450471987, 12.572874317321281, 2.332466716686151, -85.35178238034582]}}, "Todos": {"tot": {"u25": 17899760, "u24": 18295482, "p25": 36687669, "p24": 30584807}, "top10_u": {"names": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "xxx.ampproject", "traffic.outbrain.com", "www.lavanguardia.com", "banner", "Google News"], "u25": [8519935, 6415126, 1046636, 793540, 213461, 144584, 103122, 98649, 95442, 68249], "u24": [10749074, 4308565, 1847756, 540315, 12, 58866, 4, 164146, 53867, 38744]}, "top10_p": {"names": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "xxx.ampproject", "www.lavanguardia.com", "traffic.outbrain.com", "bookmark", "banner"], "p25": [16788786, 10950266, 3421405, 2491355, 605743, 368369, 313550, 260196, 201795, 176387], "p24": [17334411, 5714245, 1762373, 3397054, 15, 88530, 1105194, 6, 66062, 102130]}, "pie_u25": {"labels": ["Google", "Google Discover", "dark social", "direct", "Outbrain", "Otros"], "vals": [8519935, 6415126, 1046636, 793540, 213461, 911062], "perc": [47.59804042065369, 35.83917326265827, 5.847206889924781, 4.433243797682204, 1.1925355423759871, 5.089800086705073]}, "pie_u24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [10749074, 4308565, 1847756, 540315, 164146, 289904], "perc": [60.05149789717851, 24.07051826393203, 10.322797624102224, 3.018560025385815, 0.9170290551381695, 1.6195971342632527]}, "pie_p25": {"labels": ["Google", "Google Discover", "direct", "dark social", "Outbrain", "Otros"], "vals": [16788786, 10950266, 3421405, 2491355, 605743, 2430114], "perc": [45.76138647565753, 29.847265575798776, 9.325762833283303, 6.790714885701787, 1.6510806396557929, 6.62378958990281]}, "pie_p24": {"labels": ["Google", "Google Discover", "dark social", "direct", "www.lavanguardia.com", "Otros"], "vals": [17334411, 5714245, 3397054, 1762373, 1105194, 7374392], "perc": [47.248602793489006, 15.575383107604901, 9.259389033410653, 4.803720290869393, 3.0124399563242896, 20.10046481830176]}}};
function updateDashboard() {
    const sel = document.getElementById('monthSelect');
    const key = sel.value;
    const obj = data[key];
    // Update summary
    const sum = obj['tot'];
    let summaryHTML = '<p>Usuarios 2025: ' + sum.u25.toLocaleString() + '<br>' +
                      'Usuarios 2024: ' + sum.u24.toLocaleString() + '<br>' +
                      'Páginas vistas 2025: ' + sum.p25.toLocaleString() + '<br>' +
                      'Páginas vistas 2024: ' + sum.p24.toLocaleString() + '</p>';
    document.getElementById('summaryDiv').innerHTML = summaryHTML;
    // Update bar charts
    barUsers.data.labels = obj['top10_u'].names;
    barUsers.data.datasets[0].data = obj['top10_u'].u25;
    barUsers.data.datasets[1].data = obj['top10_u'].u24;
    barUsers.update();
    barPages.data.labels = obj['top10_p'].names;
    barPages.data.datasets[0].data = obj['top10_p'].p25;
    barPages.data.datasets[1].data = obj['top10_p'].p24;
    barPages.update();
    // Update pies and tables
    function updatePieAndTable(pieChart, pieKey, tableId) {
        pieChart.data.labels = obj[pieKey].labels;
        pieChart.data.datasets[0].data = obj[pieKey].vals;
        pieChart.update();
        // Build table
        let total = obj[pieKey].vals.reduce((a,b)=>a+b,0);
        let html = '<tr><th>Fuente</th><th>Valor</th><th>%</th></tr>';
        for (let i=0; i<obj[pieKey].labels.length; i++) {
            html += '<tr><td>' + obj[pieKey].labels[i] + '</td><td>' + obj[pieKey].vals[i].toLocaleString() + '</td><td>' + obj[pieKey].perc[i].toFixed(2) + '%</td></tr>';
        }
        document.getElementById(tableId).innerHTML = html;
    }
    updatePieAndTable(pieUsers2025, 'pie_u25', 'tableUsers2025');
    updatePieAndTable(pieUsers2024, 'pie_u24', 'tableUsers2024');
    updatePieAndTable(piePages2025, 'pie_p25', 'tablePages2025');
    updatePieAndTable(piePages2024, 'pie_p24', 'tablePages2024');
}

window.onload = function() {
    const ctxU = document.getElementById('barUsers').getContext('2d');
    window.barUsers = new Chart(ctxU, {
        type: 'bar',
        data: { labels: [], datasets: [{ label: '2025', backgroundColor: 'rgba(75, 192, 192, 0.7)', data: [] }, { label: '2024', backgroundColor: 'rgba(192, 75, 192, 0.7)', data: [] }] },
        options: { responsive: true, scales: { y: { beginAtZero: true } } }
    });
    const ctxP = document.getElementById('barPages').getContext('2d');
    window.barPages = new Chart(ctxP, {
        type: 'bar',
        data: { labels: [], datasets: [{ label: '2025', backgroundColor: 'rgba(75, 192, 192, 0.7)', data: [] }, { label: '2024', backgroundColor: 'rgba(192, 75, 192, 0.7)', data: [] }] },
        options: { responsive: true, scales: { y: { beginAtZero: true } } }
    });
    // Pies
    const ctxPieU25 = document.getElementById('pieUsers2025').getContext('2d');
    window.pieUsers2025 = new Chart(ctxPieU25, {
        type: 'pie',
        data: { labels: [], datasets: [{ data: [], backgroundColor: [ 'rgba(255, 99, 132, 0.7)', 'rgba(54, 162, 235, 0.7)', 'rgba(255, 206, 86, 0.7)', 'rgba(75, 192, 192, 0.7)', 'rgba(153, 102, 255, 0.7)', 'rgba(255, 159, 64, 0.7)' ] }] },
        options: { responsive: true }
    });
    const ctxPieU24 = document.getElementById('pieUsers2024').getContext('2d');
    window.pieUsers2024 = new Chart(ctxPieU24, { type: 'pie', data: { labels: [], datasets: [{ data: [], backgroundColor: [ 'rgba(255, 99, 132, 0.7)', 'rgba(54, 162, 235, 0.7)', 'rgba(255, 206, 86, 0.7)', 'rgba(75, 192, 192, 0.7)', 'rgba(153, 102, 255, 0.7)', 'rgba(255, 159, 64, 0.7)' ] }] }, options: { responsive: true } });
    const ctxPieP25 = document.getElementById('piePages2025').getContext('2d');
    window.piePages2025 = new Chart(ctxPieP25, { type: 'pie', data: { labels: [], datasets: [{ data: [], backgroundColor: [ 'rgba(255, 99, 132, 0.7)', 'rgba(54, 162, 235, 0.7)', 'rgba(255, 206, 86, 0.7)', 'rgba(75, 192, 192, 0.7)', 'rgba(153, 102, 255, 0.7)', 'rgba(255, 159, 64, 0.7)' ] }] }, options: { responsive: true } });
    const ctxPieP24 = document.getElementById('piePages2024').getContext('2d');
    window.piePages2024 = new Chart(ctxPieP24, { type: 'pie', data: { labels: [], datasets: [{ data: [], backgroundColor: [ 'rgba(255, 99, 132, 0.7)', 'rgba(54, 162, 235, 0.7)', 'rgba(255, 206, 86, 0.7)', 'rgba(75, 192, 192, 0.7)', 'rgba(153, 102, 255, 0.7)', 'rgba(255, 159, 64, 0.7)' ] }] }, options: { responsive: true } });
    // Set default selection to "Todos" and call update
    document.getElementById('monthSelect').value = 'Todos';
    updateDashboard();
};
</script>
</body></html>